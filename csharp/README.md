# Newscatcherapi.Net - the C# library for the NewsCatcher News API V2

NewsCatcher is a data-as-a-service startup that has one main goal:
to build the largest database of structured news articles published online.
In other words, we're like Google for the news part of the web, which you can access as a source of data.

Some useful links:
- [How NewsCatcher Works](https://docs.newscatcherapi.com/knowledge-base/how-newscatcher-works)
- [GitHub for the Python SDK](https://github.com/NewscatcherAPI/newscatcherapi-sdk-python)


This C# SDK is automatically generated by the [Konfig](https://konfigthis.com):

- API version: 1.0.1
- SDK version: 2.0.0

<a name="frameworks-supported"></a>
## Frameworks supported
- .NET Core >=1.0
- .NET Framework >=4.6
- Mono/Xamarin >=vNext

<a name="dependencies"></a>
## Dependencies

- [RestSharp](https://www.nuget.org/packages/RestSharp) - 106.13.0 or later
- [Json.NET](https://www.nuget.org/packages/Newtonsoft.Json/) - 13.0.1 or later
- [JsonSubTypes](https://www.nuget.org/packages/JsonSubTypes/) - 1.8.0 or later
- [System.ComponentModel.Annotations](https://www.nuget.org/packages/System.ComponentModel.Annotations) - 5.0.0 or later

The DLLs included in the package may not be the latest version. We recommend using [NuGet](https://docs.nuget.org/consume/installing-nuget) to obtain the latest version of the packages:
```
Install-Package RestSharp
Install-Package Newtonsoft.Json
Install-Package JsonSubTypes
Install-Package System.ComponentModel.Annotations
```

NOTE: RestSharp versions greater than 105.1.0 have a bug which causes file uploads to fail. See [RestSharp#742](https://github.com/restsharp/RestSharp/issues/742).
NOTE: RestSharp for .Net Core creates a new socket for each api call, which can lead to a socket exhaustion problem. See [RestSharp#1406](https://github.com/restsharp/RestSharp/issues/1406).

<a name="installation"></a>
## Installation
Generate the DLL using your preferred tool (e.g. `dotnet build`)

Then include the DLL (under the `bin` folder) in the C# project, and use the namespaces:
```csharp
using Newscatcherapi.Net.Api;
using Newscatcherapi.Net.Client;
using Newscatcherapi.Net.Model;
```
<a name="usage"></a>
## Usage

To use the API client with a HTTP proxy, setup a `System.Net.WebProxy`
```csharp
Configuration c = new Configuration();
System.Net.WebProxy webProxy = new System.Net.WebProxy("http://myProxyUrl:80/");
webProxy.Credentials = System.Net.CredentialCache.DefaultCredentials;
c.Proxy = webProxy;
```

<a name="getting-started"></a>
## Getting Started

```csharp
using System.Collections.Generic;
using System.Diagnostics;
using Newscatcherapi.Net.Api;
using Newscatcherapi.Net.Client;
using Newscatcherapi.Net.Model;

namespace Example
{
    public class Example
    {
        public static void Main()
        {

            Configuration config = new Configuration();

            // Configure custom BasePath if desired
            // config.BasePath = "https://api.newscatcherapi.com/v2";

            // Configure API key authorization: api_key
            config.ApiKey.Add("x-api-key", "YOUR_API_KEY");
            // Uncomment below to setup prefix (e.g. Bearer) for API key, if needed
            // config.ApiKeyPrefix.Add("x-api-key", "Bearer");

            var apiInstance = new LatestHeadlinesApi(config);
            var lang = en;  // string | Specifies the languages of the search. For example: `en`. The only accepted format is [ISO 639-1 â€” 2](https://en.wikipedia.org/wiki/ISO_639-1) letter code.  (optional) 
            var notLang = "af";  // string | Inverse to the `lang` parameter  (optional) 
            var countries = "countries_example";  // string | Countries where the news publisher is located. **Important**: This parameter is not responsible for the countries mentioned in the news article. One or multiple countries can be used in the search. The only acceptable format is [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) For example, `US,CA,MX` or just `US`  (optional) 
            var notCountries = "notCountries_example";  // string | The inverse of the `countries` parameter.  (optional) 
            var topic = (Topic) "news";  // Topic? | Accepted values: `news`, `sport`, `tech`, `world`, `finance`, `politics`, `business`, `economics`, `entertainment`, `beauty`, `travel`, `music`, `food`, `science`, `gaming` The topic to which you want to restrict the articles of your choice. Not all news articles are assigned with a topic, therefore, we cannot guarantee that 100% of topics talking about technology will be assigned a tech label.  (optional) 
            var sources = "sources_example";  // string | One or more news resources to filter your search. It should be the normal form of the URL, For example: `nytimes.com,theguardian.com`  (optional) 
            var notSources = "notSources_example";  // string | One or more sources to be excluded from the search. Comma-separated list. For example: `nytimes.com,cnn.com,wsj.com`  (optional) 
            var rankedOnly = true;  // bool? | Default: `True` Limit the search only for the sources which are in the top 1 million online websites. Unranked sources are assigned a rank that equals `999999`  (optional) 
            var pageSize = 56;  // int? | `[1:100]` How many articles to return per page.  (optional) 
            var page = 56;  // int? | The number of the page. Use it to scroll through the results. This parameter is used to paginate: scroll through results because one API response cannot return more than 100 articles.  (optional) 

            try
            {
                // Get Latest News Articles
                Model200ResponseLatest result = apiInstance.Get(lang, notLang, countries, notCountries, topic, sources, notSources, rankedOnly, pageSize, page);
                Debug.WriteLine(result);
            }
            catch (ApiException e)
            {
                Debug.Print("Exception when calling LatestHeadlinesApi.Get: " + e.Message );
                Debug.Print("Status Code: "+ e.ErrorCode);
                Debug.Print(e.StackTrace);
            }

        }
    }
}
```

<a name="documentation-for-api-endpoints"></a>
## Documentation for API Endpoints

All URIs are relative to *https://api.newscatcherapi.com/v2*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*LatestHeadlinesApi* | [**Get**](docs/LatestHeadlinesApi.md#get) | **GET** /latest_headlines | Get Latest News Articles
*LatestHeadlinesApi* | [**Post**](docs/LatestHeadlinesApi.md#post) | **POST** /latest_headlines | Get Latest News Articles
*SearchApi* | [**Get**](docs/SearchApi.md#get) | **GET** /search | Search for specific news articles
*SearchApi* | [**Post**](docs/SearchApi.md#post) | **POST** /search | Search for specific news articles
*SourcesApi* | [**Get**](docs/SourcesApi.md#get) | **GET** /sources | Get top news sources supported by NewsCatcher.
*SourcesApi* | [**Post**](docs/SourcesApi.md#post) | **POST** /sources | Get top news sources supported by NewsCatcher.


<a name="documentation-for-models"></a>
## Documentation for Models

 - [Model.ArticleInner](docs/ArticleInner.md)
 - [Model.ErrorResponse](docs/ErrorResponse.md)
 - [Model.ErrorStatus](docs/ErrorStatus.md)
 - [Model.Lang](docs/Lang.md)
 - [Model.LatestHeadlines](docs/LatestHeadlines.md)
 - [Model.LatestHeadlinesUserInput](docs/LatestHeadlinesUserInput.md)
 - [Model.Model200Response](docs/Model200Response.md)
 - [Model.Model200ResponseLatest](docs/Model200ResponseLatest.md)
 - [Model.Model200ResponseSources](docs/Model200ResponseSources.md)
 - [Model.PublishDatePrecision](docs/PublishDatePrecision.md)
 - [Model.Search](docs/Search.md)
 - [Model.SearchIn](docs/SearchIn.md)
 - [Model.SearchUserInput](docs/SearchUserInput.md)
 - [Model.SortBy](docs/SortBy.md)
 - [Model.SourcesQuery](docs/SourcesQuery.md)
 - [Model.SourcesUserInput](docs/SourcesUserInput.md)
 - [Model.SuccessStatus](docs/SuccessStatus.md)
 - [Model.Topic](docs/Topic.md)


<a name="documentation-for-authorization"></a>
## Documentation for Authorization

<a name="api_key"></a>
### api_key

- **Type**: API key
- **API key parameter name**: x-api-key
- **Location**: HTTP header

